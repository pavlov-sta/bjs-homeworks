# Дипломное задание к курсу «Основы JavaScript»

## Задание

Вы помогаете крипто-стартапу сделать сайт-биржу, на котором можно обменивать валюту на токены этой компании (они называются "Неткоины") и передавать токены между пользователям.
Ваша задача состоит в том, чтобы написать основную логику сайта.

Программа, которую требуется реализовать, состоит из двух частей:

### Часть 1

Класс "Пользователь". Он должен уметь выполнять все основные функции:

-   Добавление нового пользователя
-   Авторизация
-   Добавление денег в личный кошелек
-   Конвертация валют
-   Перевод токенов другому пользователю

    Также, требуется написать функцию, которая возвращает текущий курс между валютами и "Неткоин".

    _Курс меняется каждую секунду_

### Часть 2

Программа, которая выполняет следующий пользовательский сценарий:

-   Добавление 2-х пользователей
-   Зачисление одному из них на счет 500000 евро
-   Перевод этих денег в токены "Неткоин".
-   Передача этих токенов другому пользователю


## Выполнение задания

### 1. Начало работы

1. Установите [MongoDB Community Server](https://www.mongodb.com/download-center/community) для своей операционной системы и запустите базу данных
1. Установите [NodeJS](https://nodejs.org/en/) для своей операционной системы
1. Склонируйте данный репозиторий
1. Откройте терминал и перейдите в папку со склонированным репозиторием
1. Выполните команду `npm install`
1. Выполните команду `npm i -g nodemon`

### Запуск сервера

1. Чтобы запустить сервер для биржи, выполните команду `npm start` из терминала в папке с репозиторием. Убедитесь, что в консоли в увидели надпись `App is listening on port 1337`.
1. Перейдите по [ссылке](http://localhost:1337) и убедитесь, что видите надпись **Биржа "Неткоин"**
1. В папке с проектом лежит файл `./static/main.js`. Задание следует выполнять в нем.

**Чтобы остановить работу сервера, нажмите комбинацию `Ctrl+C в терминале`**

### Просмотр записей в базе данных

Чтобы посмотреть созданных вами пользователей и их данные:

1. Установите программу [Robo 3T](https://studio3t.com/download-now/)
1. Запустите программу и создайте новое подключение со следующими параметрами:
    - Type: Direct connection
    - Name: Netcoin
    - Address: localhost:27017
1. Подключитесь к БД, используя данное подключение.

### 2. Решение первой части задания

1. В файле `main.js` объявите класс `Profile`
1. Реализуйте методы, которые требуются в 1 части задания

Пример правильного метода:

```javascript
addMoney({ currency, amount }, callback) {
        return ApiConnector.addMoney({ currency, amount }, (err, data) => {
            console.log(`Adding ${amount} of ${currency} to ${this.username}`);
            callback(err, data);
        });
    }
```

### 3. Решение второй части задания

1. В том же файле `main.js` начните реализацию главной функции, которая будет выполнять пользовательский сценарий
1. Не забудьте, что перед выполнением любых действий, кроме создания пользователя, ему необходимо авторизоваться

Пример:

```javascript
function main(){
    const Ivan = new Profile({
                    username: 'ivan',
                    name: { firstName: 'Ivan', lastName: 'Chernyshev' },
                    password: 'ivanspass',
                });
    // сначала создаем и авторизуем пользователя

    // после того, как мы авторизовали пользователя, добавляем ему денег в кошелек
    Ivan.addMoney({ currency: 'RUB', amount: 100 }, (err, data) => {
        if (err) {
            console.error('Error during adding money to Ivan');
            } else {
                console.log(`Added 500000 euros to Ivan`);
        });
}

main();
```

### Пример выводов в консоль успешно решенного задания

![Пример вывода](/output.png)

Для облегчения задачи, можно воспользоваться классом ApiConnector, который умеет делать все необходимые запросы к API биржи. Код класса находится в файле `api-connector.js`

---
Исходный код дипломной работы нужно разместить на [GitHub](https://github.com/).


### Как правильно задавать вопросы дипломному руководителю?

**Что следует делать, чтобы все получилось:**

* Попробовать найти ответ сначала самому в интернете. Ведь, именно это скилл поиска ответов пригодится тебе на первой работе. И только после этого спрашивать дипломного руководителя
* В одном вопросе должна быть заложена одна проблема 
* По возможности, прикреплять к вопросу скриншоты и стрелочкой показывать где не получается. Программу для этого можно скачать здесь https://app.prntscr.com/ru/
* По возможности, задавать вопросы в комментариях к коду. 
* Начинать работу над дипломом как можно раньше! Чтобы было больше времени на правки. 
* Делать диплом по-частям, а не все сразу. Иначе, есть шанс, что нужно будет все переделывать :)  

**Что следует делать, чтобы ничего не получилось:**

* Писать вопросы вида “Ничего не работает. Не запускается. Всё сломалось.”
* Откладывать диплом на потом. 
* Ждать ответ на свой вопрос моментально. Дипломные руководители - работающие разработчики, которые занимаются, кроме преподавания, своими проектами. Их время ограничено, поэтому постарайтесь задавать правильные вопросы, чтобы получать быстрые ответы! 

